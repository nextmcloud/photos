{"version":3,"file":"photos-src_mixins_FetchCollectionsMixin_js-src_components_Collection_CollectionCover_vue-src_compone-02d443.js?v=507b8ae396e21704b79e","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;;;;;;;;;;;;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;;;;;;;;;;;;;;;ACvCA;;;;;;;;;;;;;;;ACAA","sources":["webpack:///photos/src/components/Collection/CollectionCover.vue?vue&type=script&lang=js","webpack:///photos/src/components/Collection/CollectionsList.vue?vue&type=script&lang=js","webpack:///photos/src/components/Collection/CollectionCover.vue?vue&type=template&id=65d1e458&scoped=true","webpack:///photos/src/components/Collection/CollectionsList.vue?vue&type=template&id=672c9772&scoped=true","webpack:///photos/src/mixins/FetchCollectionsMixin.js","webpack:///photos/src/components/Collection/CollectionCover.vue?vue&type=style&index=0&id=65d1e458&lang=scss&scoped=true","webpack:///photos/src/components/Collection/CollectionsList.vue?vue&type=style&index=0&id=672c9772&lang=scss&scoped=true","webpack://photos/./src/components/Collection/CollectionCover.vue?1a84","webpack://photos/./src/components/Collection/CollectionsList.vue?201a","webpack:///photos/src/components/Collection/CollectionCover.vue","webpack:///photos/src/components/Collection/CollectionsList.vue","webpack://photos/./src/components/Collection/CollectionCover.vue?24a9","webpack://photos/./src/components/Collection/CollectionsList.vue?b114","webpack://photos/./src/components/Collection/CollectionCover.vue?4865","webpack://photos/./src/components/Collection/CollectionsList.vue?cd69","webpack://photos/./src/components/Collection/CollectionCover.vue?57a2","webpack://photos/./src/components/Collection/CollectionsList.vue?adac"],"sourcesContent":["import ImageMultiple from 'vue-material-design-icons/ImageMultiple.vue';\nexport default {\n  name: 'CollectionCover',\n  components: {\n    ImageMultiple\n  },\n  props: {\n    coverUrl: {\n      type: String,\n      required: true\n    },\n    altImg: {\n      type: String,\n      required: true\n    },\n    link: {\n      type: String,\n      required: true\n    }\n  }\n};","import AlertCircle from 'vue-material-design-icons/AlertCircle.vue';\nimport { NcEmptyContent } from '@nextcloud/vue';\nimport { translate } from '@nextcloud/l10n';\nexport default {\n  name: 'CollectionsList',\n  components: {\n    AlertCircle,\n    NcEmptyContent\n  },\n  props: {\n    /** @type {import('vue').PropType<import('../../services/collectionFetcher').IndexedCollections>} */\n    collections: {\n      type: Object,\n      required: true\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    error: {\n      type: Error,\n      default: null\n    }\n  },\n  computed: {\n    /**\n     * @return {boolean} Whether the list of collections is empty or not.\n     */\n    noCollection() {\n      return Object.keys(this.collections).length === 0;\n    }\n  },\n  methods: {\n    t: translate\n  }\n};","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c(\"li\", [_c(\"router-link\", {\n    staticClass: \"collection-cover\",\n    attrs: {\n      to: _vm.link\n    }\n  }, [_vm.coverUrl !== \"\" ? _c(\"img\", {\n    staticClass: \"collection-cover__image\",\n    attrs: {\n      src: _vm.coverUrl,\n      alt: _vm.altImg\n    }\n  }) : _c(\"div\", {\n    staticClass: \"collection-cover__image collection-cover__image--placeholder\"\n  }, [_c(\"ImageMultiple\", {\n    attrs: {\n      size: 128\n    }\n  })], 1), _vm._v(\" \"), _c(\"div\", {\n    staticClass: \"collection-cover__details\"\n  }, [_c(\"div\", {\n    staticClass: \"collection-cover__details__title\"\n  }, [_vm._t(\"default\")], 2), _vm._v(\" \"), _c(\"div\", {\n    staticClass: \"collection-cover__details__subtitle\"\n  }, [_vm._t(\"subtitle\")], 2)])])], 1);\n};\nvar staticRenderFns = [];\nrender._withStripped = true;\nexport { render, staticRenderFns };","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _vm.error ? _c(\"NcEmptyContent\", {\n    attrs: {\n      name: _vm.t(\"photos\", \"An error occurred\")\n    }\n  }, [_c(\"AlertCircle\", {\n    attrs: {\n      slot: \"icon\"\n    },\n    slot: \"icon\"\n  })], 1) : _c(\"div\", {\n    staticClass: \"collections\"\n  }, [_vm._t(\"header\"), _vm._v(\" \"), _vm.noCollection && !_vm.loading ? _vm._t(\"empty-collections-list\") : !_vm.noCollection ? _c(\"ul\", {\n    staticClass: \"collections__list\"\n  }, [_vm._l(_vm.collections, function (collection) {\n    return _vm._t(\"default\", null, {\n      collection: collection\n    });\n  })], 2) : _vm._e()], 2);\n};\nvar staticRenderFns = [];\nrender._withStripped = true;\nexport { render, staticRenderFns };","/**\n * @copyright Copyright (c) 2022 Louis Chemineau <louis@chmn.me>\n *\n * @author Louis Chemineau <louis@chmn.me>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { mapActions } from 'vuex';\nimport AbortControllerMixin from './AbortControllerMixin.js';\nimport { fetchCollections } from '../services/collectionFetcher.js';\nexport default {\n  name: 'FetchCollectionsMixin',\n  data() {\n    return {\n      errorFetchingCollections: null,\n      loadingCollections: false\n    };\n  },\n  mixins: [AbortControllerMixin],\n  methods: {\n    ...mapActions(['addCollections']),\n    /**\n     * @param {string} collectionHome\n     * @param {string[]} [extraProps] - Extra properties to add to the DAV request.\n     * @param {import('webdav').WebDAVClient} [client] - The DAV client to use.\n     * @return {Promise<import('../services/collectionFetcher.js').Collection[]>}\n     */\n    async fetchCollections(collectionHome, extraProps, client) {\n      if (this.loadingCollections) {\n        return [];\n      }\n      try {\n        this.loadingCollections = true;\n        this.errorFetchingCollections = null;\n        const collections = await fetchCollections(collectionHome, {\n          signal: this.abortController.signal\n        }, extraProps, client);\n        this.addCollections({\n          collections\n        });\n        return collections;\n      } catch (error) {\n        if (error.response?.status === 404) {\n          this.errorFetchingCollections = 404;\n        } else {\n          this.errorFetchingCollections = error;\n        }\n      } finally {\n        this.loadingCollections = false;\n      }\n      return [];\n    }\n  }\n};","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.collection-cover[data-v-65d1e458] {\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n  border-radius: var(--border-radius-large);\n}\n.collection-cover[data-v-65d1e458]:hover, .collection-cover[data-v-65d1e458]:focus {\n  background: var(--color-background-dark);\n}\n.collection-cover__image[data-v-65d1e458] {\n  width: 350px;\n  height: 350px;\n  object-fit: cover;\n  border-radius: var(--border-radius-large);\n}\n@media only screen and (max-width: 1200px) {\n.collection-cover__image[data-v-65d1e458] {\n    width: 250px;\n    height: 250px;\n}\n}\n.collection-cover__image--placeholder[data-v-65d1e458] {\n  background: var(--color-primary-element-light);\n}\n.collection-cover__image--placeholder[data-v-65d1e458] .material-design-icon {\n  width: 100%;\n  height: 100%;\n}\n.collection-cover__image--placeholder[data-v-65d1e458] .material-design-icon .material-design-icon__svg {\n  fill: var(--color-primary-element);\n}\n.collection-cover__details[data-v-65d1e458] {\n  display: flex;\n  flex-direction: column;\n  margin-top: 16px;\n  width: 350px;\n}\n@media only screen and (max-width: 1200px) {\n.collection-cover__details[data-v-65d1e458] {\n    width: 250px;\n}\n}\n.collection-cover__details__title[data-v-65d1e458] {\n  display: flex;\n}\n.collection-cover__details__subtitle[data-v-65d1e458] {\n  display: flex;\n  color: var(--color-text-lighter);\n}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.collections[data-v-672c9772] {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.collections__list[data-v-672c9772] {\n  padding: 32px 48px;\n  flex-grow: 1;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 16px;\n  align-items: flex-start;\n  height: calc(100% - 60px);\n  overflow-x: scroll;\n}\n@media only screen and (max-width: 1200px) {\n.collections__list[data-v-672c9772] {\n    padding: 32px 12px;\n    justify-content: center;\n}\n}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2.use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionCover.vue?vue&type=style&index=0&id=65d1e458&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2.use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionCover.vue?vue&type=style&index=0&id=65d1e458&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2.use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionsList.vue?vue&type=style&index=0&id=672c9772&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2.use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionsList.vue?vue&type=style&index=0&id=672c9772&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CollectionCover.vue?vue&type=template&id=65d1e458&scoped=true\"\nimport script from \"./CollectionCover.vue?vue&type=script&lang=js\"\nexport * from \"./CollectionCover.vue?vue&type=script&lang=js\"\nimport style0 from \"./CollectionCover.vue?vue&type=style&index=0&id=65d1e458&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65d1e458\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/var/www/html/customapps/photos/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('65d1e458')) {\n      api.createRecord('65d1e458', component.options)\n    } else {\n      api.reload('65d1e458', component.options)\n    }\n    module.hot.accept(\"./CollectionCover.vue?vue&type=template&id=65d1e458&scoped=true\", function () {\n      api.rerender('65d1e458', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/Collection/CollectionCover.vue\"\nexport default component.exports","import { render, staticRenderFns } from \"./CollectionsList.vue?vue&type=template&id=672c9772&scoped=true\"\nimport script from \"./CollectionsList.vue?vue&type=script&lang=js\"\nexport * from \"./CollectionsList.vue?vue&type=script&lang=js\"\nimport style0 from \"./CollectionsList.vue?vue&type=style&index=0&id=672c9772&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"672c9772\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/var/www/html/customapps/photos/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('672c9772')) {\n      api.createRecord('672c9772', component.options)\n    } else {\n      api.reload('672c9772', component.options)\n    }\n    module.hot.accept(\"./CollectionsList.vue?vue&type=template&id=672c9772&scoped=true\", function () {\n      api.rerender('672c9772', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/Collection/CollectionsList.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionCover.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionCover.vue?vue&type=script&lang=js\"","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionsList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionsList.vue?vue&type=script&lang=js\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionCover.vue?vue&type=template&id=65d1e458&scoped=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionsList.vue?vue&type=template&id=672c9772&scoped=true\"","export * from \"-!../../../node_modules/style-loader/dist/cjs.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2.use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionCover.vue?vue&type=style&index=0&id=65d1e458&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/style-loader/dist/cjs.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2.use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionsList.vue?vue&type=style&index=0&id=672c9772&lang=scss&scoped=true\""],"names":[],"sourceRoot":""}