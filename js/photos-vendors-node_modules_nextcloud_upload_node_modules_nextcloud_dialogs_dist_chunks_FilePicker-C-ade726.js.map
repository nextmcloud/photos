{"version":3,"file":"photos-vendors-node_modules_nextcloud_upload_node_modules_nextcloud_dialogs_dist_chunks_FilePicker-C-ade726.js?v=b0a7775640c11b9a7c75","mappings":"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","sources":["webpack:///photos/node_modules/@nextcloud/upload/node_modules/@nextcloud/dialogs/dist/chunks/FilePicker-CvXU3iSt.mjs"],"sourcesContent":["import { ref, onMounted, computed, defineComponent, watchEffect, toRef, onUnmounted, nextTick, shallowRef, watch } from \"vue\";\nimport { a as normalizeComponent, l as showError, t } from \"./_plugin-vue2_normalizer-BNL0n0sv.mjs\";\nimport { FileType, formatFileSize, sortNodes, davGetRecentSearch, davResultToNode, davRootPath, davGetDefaultPropfind, davGetClient, getFavoriteNodes } from \"@nextcloud/files\";\nimport { NcCheckboxRadioSwitch, NcDateTime, NcButton, NcActions, NcActionInput, NcBreadcrumbs, NcBreadcrumb, NcIconSvgWrapper, NcSelect, NcTextField, NcDialog, NcEmptyContent } from \"@nextcloud/vue\";\nimport { loadState } from \"@nextcloud/initial-state\";\nimport { generateUrl } from \"@nextcloud/router\";\nimport { isPublicShare } from \"@nextcloud/sharing/public\";\nimport { toValue } from \"@vueuse/core\";\nimport axios from \"@nextcloud/axios\";\nimport PQueue from \"p-queue\";\nimport { getCurrentUser } from \"@nextcloud/auth\";\nimport { Fragment } from \"vue-frag\";\nimport { mdiFolder, mdiClock, mdiStar } from \"@mdi/js\";\nimport { emit } from \"@nextcloud/event-bus\";\nimport { CancelablePromise } from \"cancelable-promise\";\nimport { join } from \"path\";\nconst _sfc_main$e = {\n  name: \"FileIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$e = function render() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon file-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$e = [];\nvar __component__$e = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$e,\n  _sfc_render$e,\n  _sfc_staticRenderFns$e,\n  false,\n  null,\n  null\n);\nconst IconFile = __component__$e.exports;\nconst useFilesSettings = () => {\n  var _a, _b, _c;\n  const filesUserState = loadState(\"files\", \"config\", null);\n  const showHiddenFiles = ref((_a = filesUserState == null ? void 0 : filesUserState.show_hidden) != null ? _a : true);\n  const sortFavoritesFirst = ref((_b = filesUserState == null ? void 0 : filesUserState.sort_favorites_first) != null ? _b : true);\n  const cropImagePreviews = ref((_c = filesUserState == null ? void 0 : filesUserState.crop_image_previews) != null ? _c : true);\n  onMounted(async () => {\n    var _a2, _b2, _c2, _d, _e, _f;\n    if (!isPublicShare()) {\n      try {\n        const { data } = await axios.get(generateUrl(\"/apps/files/api/v1/configs\"));\n        showHiddenFiles.value = (_b2 = (_a2 = data == null ? void 0 : data.data) == null ? void 0 : _a2.show_hidden) != null ? _b2 : false;\n        sortFavoritesFirst.value = (_d = (_c2 = data == null ? void 0 : data.data) == null ? void 0 : _c2.sort_favorites_first) != null ? _d : true;\n        cropImagePreviews.value = (_f = (_e = data == null ? void 0 : data.data) == null ? void 0 : _e.crop_image_previews) != null ? _f : true;\n      } catch (error) {\n        console.error(\"Could not load files settings\", error);\n        showError(t(\"Could not load files settings\"));\n      }\n    } else {\n      console.debug(\"Skip loading files settings - currently on public share\");\n    }\n  });\n  return {\n    showHiddenFiles,\n    sortFavoritesFirst,\n    cropImagePreviews\n  };\n};\nconst useFilesViews = (currentView) => {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l;\n  const convertOrder = (order2) => order2 === \"asc\" ? \"ascending\" : order2 === \"desc\" ? \"descending\" : \"none\";\n  const filesViewsState = loadState(\"files\", \"viewConfigs\", null);\n  const filesViewConfig = ref({\n    sortBy: (_b = (_a = filesViewsState == null ? void 0 : filesViewsState.files) == null ? void 0 : _a.sorting_mode) != null ? _b : \"basename\",\n    order: convertOrder((_d = (_c = filesViewsState == null ? void 0 : filesViewsState.files) == null ? void 0 : _c.sorting_direction) != null ? _d : \"asc\")\n  });\n  const recentViewConfig = ref({\n    sortBy: (_f = (_e = filesViewsState == null ? void 0 : filesViewsState.recent) == null ? void 0 : _e.sorting_mode) != null ? _f : \"basename\",\n    order: convertOrder((_h = (_g = filesViewsState == null ? void 0 : filesViewsState.recent) == null ? void 0 : _g.sorting_direction) != null ? _h : \"asc\")\n  });\n  const favoritesViewConfig = ref({\n    sortBy: (_j = (_i = filesViewsState == null ? void 0 : filesViewsState.favorites) == null ? void 0 : _i.sorting_mode) != null ? _j : \"basename\",\n    order: convertOrder((_l = (_k = filesViewsState == null ? void 0 : filesViewsState.favorites) == null ? void 0 : _k.sorting_direction) != null ? _l : \"asc\")\n  });\n  onMounted(async () => {\n    var _a2, _b2, _c2, _d2, _e2, _f2, _g2, _h2, _i2, _j2, _k2, _l2, _m, _n, _o;\n    if (!isPublicShare()) {\n      try {\n        const { data } = await axios.get(generateUrl(\"/apps/files/api/v1/views\"));\n        filesViewConfig.value = {\n          sortBy: (_c2 = (_b2 = (_a2 = data == null ? void 0 : data.data) == null ? void 0 : _a2.files) == null ? void 0 : _b2.sorting_mode) != null ? _c2 : \"basename\",\n          order: convertOrder((_e2 = (_d2 = data == null ? void 0 : data.data) == null ? void 0 : _d2.files) == null ? void 0 : _e2.sorting_direction)\n        };\n        favoritesViewConfig.value = {\n          sortBy: (_h2 = (_g2 = (_f2 = data == null ? void 0 : data.data) == null ? void 0 : _f2.favorites) == null ? void 0 : _g2.sorting_mode) != null ? _h2 : \"basename\",\n          order: convertOrder((_j2 = (_i2 = data == null ? void 0 : data.data) == null ? void 0 : _i2.favorites) == null ? void 0 : _j2.sorting_direction)\n        };\n        recentViewConfig.value = {\n          sortBy: (_m = (_l2 = (_k2 = data == null ? void 0 : data.data) == null ? void 0 : _k2.recent) == null ? void 0 : _l2.sorting_mode) != null ? _m : \"basename\",\n          order: convertOrder((_o = (_n = data == null ? void 0 : data.data) == null ? void 0 : _n.recent) == null ? void 0 : _o.sorting_direction)\n        };\n      } catch (error) {\n        console.error(\"Could not load files views\", error);\n        showError(t(\"Could not load files views\"));\n      }\n    } else {\n      console.debug(\"Skip loading files views - currently on public share\");\n    }\n  });\n  const currentConfig = computed(() => toValue(currentView || \"files\") === \"files\" ? filesViewConfig.value : toValue(currentView) === \"recent\" ? recentViewConfig.value : favoritesViewConfig.value);\n  const sortBy = computed(() => currentConfig.value.sortBy);\n  const order = computed(() => currentConfig.value.order);\n  return {\n    filesViewConfig,\n    favoritesViewConfig,\n    recentViewConfig,\n    currentConfig,\n    sortBy,\n    order\n  };\n};\nconst _sfc_main$d = {\n  name: \"MenuUpIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$d = function render2() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon menu-up-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M7,15L12,10L17,15H7Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$d = [];\nvar __component__$d = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$d,\n  _sfc_render$d,\n  _sfc_staticRenderFns$d,\n  false,\n  null,\n  null\n);\nconst IconSortAscending = __component__$d.exports;\nconst _sfc_main$c = {\n  name: \"MenuDownIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$c = function render3() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon menu-down-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M7,10L12,15L17,10H7Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$c = [];\nvar __component__$c = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$c,\n  _sfc_render$c,\n  _sfc_staticRenderFns$c,\n  false,\n  null,\n  null\n);\nconst IconSortDescending = __component__$c.exports;\nconst fileListIconStylesModule = {\n  \"file-picker__file-icon\": \"_file-picker__file-icon_19mjt_9\"\n};\nconst _sfc_main$b = /* @__PURE__ */ defineComponent({\n  __name: \"LoadingTableRow\",\n  props: {\n    showCheckbox: { type: Boolean }\n  },\n  setup(__props) {\n    return { __sfc: true, fileListIconStyles: fileListIconStylesModule };\n  }\n});\nvar _sfc_render$b = function render4() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(\"tr\", { staticClass: \"file-picker__row loading-row\", attrs: { \"aria-hidden\": \"true\" } }, [_vm.showCheckbox ? _c(\"td\", { staticClass: \"row-checkbox\" }, [_c(\"span\")]) : _vm._e(), _c(\"td\", { staticClass: \"row-name\" }, [_c(\"div\", { staticClass: \"row-wrapper\" }, [_c(\"span\", { class: _setup.fileListIconStyles[\"file-picker__file-icon\"] }), _c(\"span\")])]), _vm._m(0), _vm._m(1)]);\n};\nvar _sfc_staticRenderFns$b = [function() {\n  var _vm = this, _c = _vm._self._c;\n  _vm._self._setupProxy;\n  return _c(\"td\", { staticClass: \"row-size\" }, [_c(\"span\")]);\n}, function() {\n  var _vm = this, _c = _vm._self._c;\n  _vm._self._setupProxy;\n  return _c(\"td\", { staticClass: \"row-modified\" }, [_c(\"span\")]);\n}];\nvar __component__$b = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$b,\n  _sfc_render$b,\n  _sfc_staticRenderFns$b,\n  false,\n  null,\n  \"15187afc\"\n);\nconst LoadingTableRow = __component__$b.exports;\nconst queue = new PQueue({ concurrency: 5 });\nfunction preloadImage(url) {\n  const { resolve, promise } = Promise.withResolvers();\n  queue.add(() => {\n    const image = new Image();\n    image.onerror = () => resolve(false);\n    image.onload = () => resolve(true);\n    image.src = url;\n    return promise;\n  });\n  return promise;\n}\nfunction getPreviewURL(node, options = {}) {\n  var _a;\n  options = { size: 32, cropPreview: false, mimeFallback: true, ...options };\n  try {\n    const previewUrl = ((_a = node.attributes) == null ? void 0 : _a.previewUrl) || generateUrl(\"/core/preview?fileId={fileid}\", {\n      fileid: node.fileid\n    });\n    let url;\n    try {\n      url = new URL(previewUrl);\n    } catch (e) {\n      url = new URL(previewUrl, window.location.origin);\n    }\n    url.searchParams.set(\"x\", \"\".concat(options.size));\n    url.searchParams.set(\"y\", \"\".concat(options.size));\n    url.searchParams.set(\"mimeFallback\", \"\".concat(options.mimeFallback));\n    url.searchParams.set(\"a\", options.cropPreview === true ? \"0\" : \"1\");\n    url.searchParams.set(\"c\", \"\".concat(node.attributes.etag));\n    return url;\n  } catch (e) {\n    return null;\n  }\n}\nconst usePreviewURL = (node, options) => {\n  const previewURL = ref(null);\n  const previewLoaded = ref(false);\n  watchEffect(() => {\n    previewLoaded.value = false;\n    previewURL.value = getPreviewURL(toValue(node), toValue(options || {}));\n    if (previewURL.value) {\n      preloadImage(previewURL.value.href).then((success) => {\n        previewLoaded.value = success;\n      });\n    }\n  });\n  return {\n    previewURL,\n    previewLoaded\n  };\n};\nconst _sfc_main$a = {\n  name: \"FolderIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$a = function render5() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon folder-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$a = [];\nvar __component__$a = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$a,\n  _sfc_render$a,\n  _sfc_staticRenderFns$a,\n  false,\n  null,\n  null\n);\nconst IconFolder = __component__$a.exports;\nconst __default__$1 = {\n  name: \"FilePreview\"\n};\nconst _sfc_main$9 = /* @__PURE__ */ defineComponent({\n  ...__default__$1,\n  props: {\n    node: null,\n    cropImagePreviews: { type: Boolean }\n  },\n  setup(__props) {\n    const props = __props;\n    const fileListIconStyles = ref(fileListIconStylesModule);\n    const {\n      previewURL,\n      previewLoaded\n    } = usePreviewURL(toRef(props, \"node\"), computed(() => ({ cropPreview: props.cropImagePreviews })));\n    const isFile = computed(() => props.node.type === FileType.File);\n    return { __sfc: true, fileListIconStyles, props, previewURL, previewLoaded, isFile, IconFile, IconFolder };\n  }\n});\nvar _sfc_render$9 = function render6() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(\"div\", { class: _setup.fileListIconStyles[\"file-picker__file-icon\"], style: _setup.previewLoaded ? { backgroundImage: \"url(\".concat(_setup.previewURL, \")\") } : void 0 }, [!_setup.previewLoaded ? [_setup.isFile ? _c(_setup.IconFile, { attrs: { \"size\": 20 } }) : _c(_setup.IconFolder, { attrs: { \"size\": 20 } })] : _vm._e()], 2);\n};\nvar _sfc_staticRenderFns$9 = [];\nvar __component__$9 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$9,\n  _sfc_render$9,\n  _sfc_staticRenderFns$9,\n  false,\n  null,\n  null\n);\nconst FilePreview = __component__$9.exports;\nconst _sfc_main$8 = /* @__PURE__ */ defineComponent({\n  __name: \"FileListRow\",\n  props: {\n    allowPickDirectory: { type: Boolean },\n    selected: { type: Boolean },\n    showCheckbox: { type: Boolean },\n    canPick: { type: Boolean },\n    node: null,\n    cropImagePreviews: { type: Boolean }\n  },\n  emits: [\"update:selected\", \"enter-directory\"],\n  setup(__props, { emit: emit2 }) {\n    const props = __props;\n    const displayName = computed(() => {\n      var _a;\n      return ((_a = props.node.attributes) == null ? void 0 : _a.displayName) || props.node.basename.slice(0, props.node.extension ? -props.node.extension.length : void 0);\n    });\n    const fileExtension = computed(() => props.node.extension);\n    const isDirectory = computed(() => props.node.type === FileType.Folder);\n    const isPickable = computed(() => props.canPick && (props.allowPickDirectory || !isDirectory.value));\n    function toggleSelected() {\n      emit2(\"update:selected\", !props.selected);\n    }\n    function handleClick() {\n      if (isDirectory.value) {\n        emit2(\"enter-directory\", props.node);\n      } else {\n        toggleSelected();\n      }\n    }\n    function handleKeyDown(event) {\n      if (event.key === \"Enter\") {\n        handleClick();\n      }\n    }\n    return { __sfc: true, props, emit: emit2, displayName, fileExtension, isDirectory, isPickable, toggleSelected, handleClick, handleKeyDown, formatFileSize, NcCheckboxRadioSwitch, NcDateTime, t, FilePreview };\n  }\n});\nvar _sfc_render$8 = function render7() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(\"tr\", _vm._g({ class: [\"file-picker__row\", {\n    \"file-picker__row--selected\": _vm.selected && !_vm.showCheckbox\n  }], attrs: { \"tabindex\": _vm.showCheckbox && !_setup.isDirectory ? void 0 : 0, \"aria-selected\": !_setup.isPickable ? void 0 : _vm.selected, \"data-filename\": _vm.node.basename, \"data-testid\": \"file-list-row\" } }, {\n    click: _setup.handleClick,\n    /* same as tabindex -> if we hide the checkbox or this is a directory we need keyboard access to enter the directory or select the node */\n    ...!_vm.showCheckbox || _setup.isDirectory ? { keydown: _setup.handleKeyDown } : {}\n  }), [_vm.showCheckbox ? _c(\"td\", { staticClass: \"row-checkbox\", on: { \"click\": function($event) {\n    $event.stopPropagation();\n    return (() => {\n    }).apply(null, arguments);\n  } } }, [_c(_setup.NcCheckboxRadioSwitch, { attrs: { \"aria-label\": _setup.t(\"Select the row for {nodename}\", { nodename: _setup.displayName }), \"checked\": _vm.selected, \"disabled\": !_setup.isPickable, \"data-testid\": \"row-checkbox\" }, on: { \"update:checked\": _setup.toggleSelected } })], 1) : _vm._e(), _c(\"td\", { staticClass: \"row-name\" }, [_c(\"div\", { staticClass: \"file-picker__name-container\", attrs: { \"data-testid\": \"row-name\" } }, [_c(_setup.FilePreview, { attrs: { \"node\": _vm.node, \"crop-image-previews\": _vm.cropImagePreviews } }), _c(\"div\", { staticClass: \"file-picker__file-name\", attrs: { \"title\": _setup.displayName }, domProps: { \"textContent\": _vm._s(_setup.displayName) } }), _c(\"div\", { staticClass: \"file-picker__file-extension\", domProps: { \"textContent\": _vm._s(_setup.fileExtension) } })], 1)]), _c(\"td\", { staticClass: \"row-size\" }, [_vm._v(\" \" + _vm._s(_setup.formatFileSize(_vm.node.size || 0)) + \" \")]), _c(\"td\", { staticClass: \"row-modified\" }, [_c(_setup.NcDateTime, { attrs: { \"timestamp\": _vm.node.mtime, \"ignore-seconds\": true } })], 1)]);\n};\nvar _sfc_staticRenderFns$8 = [];\nvar __component__$8 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$8,\n  _sfc_render$8,\n  _sfc_staticRenderFns$8,\n  false,\n  null,\n  \"cb12dccb\"\n);\nconst FileListRow = __component__$8.exports;\nconst _sfc_main$7 = /* @__PURE__ */ defineComponent({\n  __name: \"FileList\",\n  props: {\n    currentView: null,\n    multiselect: { type: Boolean },\n    allowPickDirectory: { type: Boolean },\n    loading: { type: Boolean },\n    files: null,\n    selectedFiles: null,\n    path: null\n  },\n  emits: [\"update:path\", \"update:selectedFiles\"],\n  setup(__props, { emit: emit2 }) {\n    const props = __props;\n    const customSortingConfig = ref();\n    const { currentConfig: filesAppSorting } = useFilesViews(props.currentView);\n    const sortingConfig = computed(() => {\n      var _a;\n      return (_a = customSortingConfig.value) != null ? _a : filesAppSorting.value;\n    });\n    const sortByName = computed(() => sortingConfig.value.sortBy === \"basename\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const sortBySize = computed(() => sortingConfig.value.sortBy === \"size\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const sortByModified = computed(() => sortingConfig.value.sortBy === \"mtime\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const toggleSorting = (sortBy) => {\n      if (sortingConfig.value.sortBy === sortBy) {\n        if (sortingConfig.value.order === \"ascending\") {\n          customSortingConfig.value = { sortBy: sortingConfig.value.sortBy, order: \"descending\" };\n        } else {\n          customSortingConfig.value = { sortBy: sortingConfig.value.sortBy, order: \"ascending\" };\n        }\n      } else {\n        customSortingConfig.value = { sortBy, order: \"ascending\" };\n      }\n    };\n    const { sortFavoritesFirst, cropImagePreviews } = useFilesSettings();\n    const sortedFiles = computed(() => {\n      return sortNodes(props.files, {\n        sortFoldersFirst: true,\n        sortFavoritesFirst: sortFavoritesFirst.value,\n        sortingOrder: sortingConfig.value.order === \"descending\" ? \"desc\" : \"asc\",\n        sortingMode: sortingConfig.value.sortBy\n      });\n    });\n    const selectableFiles = computed(() => props.files.filter((file) => props.allowPickDirectory || file.type !== FileType.Folder));\n    const allSelected = computed(() => !props.loading && props.selectedFiles.length > 0 && props.selectedFiles.length >= selectableFiles.value.length);\n    function onSelectAll() {\n      if (props.selectedFiles.length < selectableFiles.value.length) {\n        emit2(\"update:selectedFiles\", selectableFiles.value);\n      } else {\n        emit2(\"update:selectedFiles\", []);\n      }\n    }\n    function onNodeSelected(file) {\n      if (props.selectedFiles.includes(file)) {\n        emit2(\"update:selectedFiles\", props.selectedFiles.filter((f) => f.path !== file.path));\n      } else {\n        if (props.multiselect) {\n          emit2(\"update:selectedFiles\", [...props.selectedFiles, file]);\n        } else {\n          emit2(\"update:selectedFiles\", [file]);\n        }\n      }\n    }\n    function onChangeDirectory(dir) {\n      emit2(\"update:path\", dir.path);\n    }\n    const skeletonNumber = ref(4);\n    const fileContainer = ref();\n    {\n      const resize = () => nextTick(() => {\n        var _a, _b, _c, _d, _e;\n        const nodes = ((_b = (_a = fileContainer.value) == null ? void 0 : _a.parentElement) == null ? void 0 : _b.children) || [];\n        let height = ((_d = (_c = fileContainer.value) == null ? void 0 : _c.parentElement) == null ? void 0 : _d.clientHeight) || 450;\n        for (let index = 0; index < nodes.length; index++) {\n          if (!((_e = fileContainer.value) == null ? void 0 : _e.isSameNode(nodes[index]))) {\n            height -= nodes[index].clientHeight;\n          }\n        }\n        skeletonNumber.value = Math.max(1, Math.floor((height - 50) / 50));\n      });\n      onMounted(() => {\n        window.addEventListener(\"resize\", resize);\n        resize();\n      });\n      onUnmounted(() => {\n        window.removeEventListener(\"resize\", resize);\n      });\n    }\n    return { __sfc: true, props, emit: emit2, customSortingConfig, filesAppSorting, sortingConfig, sortByName, sortBySize, sortByModified, toggleSorting, sortFavoritesFirst, cropImagePreviews, sortedFiles, selectableFiles, allSelected, onSelectAll, onNodeSelected, onChangeDirectory, skeletonNumber, fileContainer, NcButton, NcCheckboxRadioSwitch, t, IconSortAscending, IconSortDescending, LoadingTableRow, FileListRow };\n  }\n});\nvar _sfc_render$7 = function render8() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(\"div\", { ref: \"fileContainer\", staticClass: \"file-picker__files\" }, [_c(\"table\", [_c(\"thead\", [_c(\"tr\", [_vm.multiselect ? _c(\"th\", { staticClass: \"row-checkbox\" }, [_c(\"span\", { staticClass: \"hidden-visually\" }, [_vm._v(\" \" + _vm._s(_setup.t(\"Select entry\")) + \" \")]), _vm.multiselect ? _c(_setup.NcCheckboxRadioSwitch, { attrs: { \"aria-label\": _setup.t(\"Select all entries\"), \"checked\": _setup.allSelected, \"data-testid\": \"select-all-checkbox\" }, on: { \"update:checked\": _setup.onSelectAll } }) : _vm._e()], 1) : _vm._e(), _c(\"th\", { staticClass: \"row-name\", attrs: { \"aria-sort\": _setup.sortByName } }, [_c(\"div\", { staticClass: \"header-wrapper\" }, [_c(\"span\", { staticClass: \"file-picker__header-preview\" }), _c(_setup.NcButton, { attrs: { \"wide\": true, \"type\": \"tertiary\", \"data-test\": \"file-picker_sort-name\" }, on: { \"click\": function($event) {\n    return _setup.toggleSorting(\"basename\");\n  } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n    return [_setup.sortByName === \"ascending\" ? _c(_setup.IconSortAscending, { attrs: { \"size\": 20 } }) : _setup.sortByName === \"descending\" ? _c(_setup.IconSortDescending, { attrs: { \"size\": 20 } }) : _c(\"span\", { staticStyle: { \"width\": \"44px\" } })];\n  }, proxy: true }]) }, [_vm._v(\" \" + _vm._s(_setup.t(\"Name\")) + \" \")])], 1)]), _c(\"th\", { staticClass: \"row-size\", attrs: { \"aria-sort\": _setup.sortBySize } }, [_c(_setup.NcButton, { attrs: { \"wide\": true, \"type\": \"tertiary\" }, on: { \"click\": function($event) {\n    return _setup.toggleSorting(\"size\");\n  } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n    return [_setup.sortBySize === \"ascending\" ? _c(_setup.IconSortAscending, { attrs: { \"size\": 20 } }) : _setup.sortBySize === \"descending\" ? _c(_setup.IconSortDescending, { attrs: { \"size\": 20 } }) : _c(\"span\", { staticStyle: { \"width\": \"44px\" } })];\n  }, proxy: true }]) }, [_vm._v(\" \" + _vm._s(_setup.t(\"Size\")) + \" \")])], 1), _c(\"th\", { staticClass: \"row-modified\", attrs: { \"aria-sort\": _setup.sortByModified } }, [_c(_setup.NcButton, { attrs: { \"wide\": true, \"type\": \"tertiary\" }, on: { \"click\": function($event) {\n    return _setup.toggleSorting(\"mtime\");\n  } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n    return [_setup.sortByModified === \"ascending\" ? _c(_setup.IconSortAscending, { attrs: { \"size\": 20 } }) : _setup.sortByModified === \"descending\" ? _c(_setup.IconSortDescending, { attrs: { \"size\": 20 } }) : _c(\"span\", { staticStyle: { \"width\": \"44px\" } })];\n  }, proxy: true }]) }, [_vm._v(\" \" + _vm._s(_setup.t(\"Modified\")) + \" \")])], 1)])]), _c(\"tbody\", [_vm.loading ? _vm._l(_setup.skeletonNumber, function(index) {\n    return _c(_setup.LoadingTableRow, { key: index, attrs: { \"show-checkbox\": _vm.multiselect } });\n  }) : _vm._l(_setup.sortedFiles, function(file) {\n    return _c(_setup.FileListRow, { key: file.fileid || file.path, attrs: { \"allow-pick-directory\": _vm.allowPickDirectory, \"show-checkbox\": _vm.multiselect, \"can-pick\": _vm.multiselect || _vm.selectedFiles.length === 0 || _vm.selectedFiles.includes(file), \"selected\": _vm.selectedFiles.includes(file), \"node\": file, \"crop-image-previews\": _setup.cropImagePreviews }, on: { \"update:selected\": function($event) {\n      return _setup.onNodeSelected(file);\n    }, \"enter-directory\": _setup.onChangeDirectory } });\n  })], 2)])]);\n};\nvar _sfc_staticRenderFns$7 = [];\nvar __component__$7 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$7,\n  _sfc_render$7,\n  _sfc_staticRenderFns$7,\n  false,\n  null,\n  \"006fdbd0\"\n);\nconst FileList = __component__$7.exports;\nconst _sfc_main$6 = {\n  name: \"HomeIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$6 = function render9() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon home-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$6 = [];\nvar __component__$6 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$6,\n  _sfc_render$6,\n  _sfc_staticRenderFns$6,\n  false,\n  null,\n  null\n);\nconst IconHome = __component__$6.exports;\nconst _sfc_main$5 = {\n  name: \"PlusIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$5 = function render10() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon plus-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$5 = [];\nvar __component__$5 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$5,\n  _sfc_render$5,\n  _sfc_staticRenderFns$5,\n  false,\n  null,\n  null\n);\nconst IconPlus = __component__$5.exports;\nconst _sfc_main$4 = /* @__PURE__ */ defineComponent({\n  __name: \"FilePickerBreadcrumbs\",\n  props: {\n    path: null,\n    showMenu: { type: Boolean }\n  },\n  emits: [\"update:path\", \"create-node\"],\n  setup(__props, { emit: emit2 }) {\n    const props = __props;\n    const actionsOpen = ref(false);\n    const newNodeName = ref(\"\");\n    const nameInput = ref();\n    function validateInput() {\n      var _a, _b, _c, _d;\n      const name = newNodeName.value.trim();\n      const input = (_b = (_a = nameInput.value) == null ? void 0 : _a.$el) == null ? void 0 : _b.querySelector(\"input\");\n      let validity = \"\";\n      if (name.length === 0) {\n        validity = t(\"Folder name cannot be empty.\");\n      } else if (name.includes(\"/\")) {\n        validity = t('\"/\" is not allowed inside a folder name.');\n      } else if ([\"..\", \".\"].includes(name)) {\n        validity = t('\"{name}\" is an invalid folder name.', { name });\n      } else if (((_c = window.OC.config) == null ? void 0 : _c.blacklist_files_regex) && name.match((_d = window.OC.config) == null ? void 0 : _d.blacklist_files_regex)) {\n        validity = t('\"{name}\" is not an allowed folder name', { name });\n      }\n      if (input) {\n        input.setCustomValidity(validity);\n      }\n      return validity === \"\";\n    }\n    const onSubmit = function() {\n      const name = newNodeName.value.trim();\n      if (validateInput()) {\n        actionsOpen.value = false;\n        emit2(\"create-node\", name);\n        newNodeName.value = \"\";\n      }\n    };\n    const pathElements = computed(\n      () => props.path.split(\"/\").filter((v) => v !== \"\").map((v, i, elements) => ({\n        name: v,\n        path: \"/\" + elements.slice(0, i + 1).join(\"/\")\n      }))\n    );\n    return { __sfc: true, props, emit: emit2, actionsOpen, newNodeName, nameInput, validateInput, onSubmit, pathElements, IconFolder, IconHome, IconPlus, NcActions, NcActionInput, NcBreadcrumbs, NcBreadcrumb, t };\n  }\n});\nvar _sfc_render$4 = function render11() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(_setup.NcBreadcrumbs, { staticClass: \"file-picker__breadcrumbs\", scopedSlots: _vm._u([{ key: \"default\", fn: function() {\n    return [_c(_setup.NcBreadcrumb, { attrs: { \"name\": _setup.t(\"All files\"), \"title\": _setup.t(\"Home\") }, on: { \"click\": function($event) {\n      return _setup.emit(\"update:path\", \"/\");\n    } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n      return [_c(_setup.IconHome, { attrs: { \"size\": 20 } })];\n    }, proxy: true }]) }), _vm._l(_setup.pathElements, function(dir) {\n      return _c(_setup.NcBreadcrumb, { key: dir.path, attrs: { \"name\": dir.name, \"title\": dir.path }, on: { \"click\": function($event) {\n        return _setup.emit(\"update:path\", dir.path);\n      } } });\n    })];\n  }, proxy: true }, _vm.showMenu ? { key: \"actions\", fn: function() {\n    return [_c(_setup.NcActions, { attrs: { \"aria-label\": _setup.t(\"Create directory\"), \"force-menu\": true, \"force-name\": true, \"menu-name\": _setup.t(\"New\"), \"open\": _setup.actionsOpen, \"type\": \"secondary\" }, on: { \"update:open\": function($event) {\n      _setup.actionsOpen = $event;\n    }, \"close\": function($event) {\n      _setup.newNodeName = \"\";\n    } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n      return [_c(_setup.IconPlus, { attrs: { \"size\": 20 } })];\n    }, proxy: true }], null, false, 2971667417) }, [_c(_setup.NcActionInput, { ref: \"nameInput\", attrs: { \"value\": _setup.newNodeName, \"label\": _setup.t(\"New folder\"), \"placeholder\": _setup.t(\"New folder name\") }, on: { \"update:value\": function($event) {\n      _setup.newNodeName = $event;\n    }, \"submit\": _setup.onSubmit, \"input\": _setup.validateInput }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n      return [_c(_setup.IconFolder, { attrs: { \"size\": 20 } })];\n    }, proxy: true }], null, false, 1614167509) })], 1)];\n  }, proxy: true } : null], null, true) });\n};\nvar _sfc_staticRenderFns$4 = [];\nvar __component__$4 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$4,\n  _sfc_render$4,\n  _sfc_staticRenderFns$4,\n  false,\n  null,\n  \"b357227a\"\n);\nconst FilePickerBreadcrumbs = __component__$4.exports;\nconst _sfc_main$3 = {\n  name: \"CloseIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$3 = function render12() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon close-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$3 = [];\nvar __component__$3 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$3,\n  _sfc_render$3,\n  _sfc_staticRenderFns$3,\n  false,\n  null,\n  null\n);\nconst IconClose = __component__$3.exports;\nconst _sfc_main$2 = {\n  name: \"MagnifyIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$2 = function render13() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon magnify-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$2 = [];\nvar __component__$2 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$2,\n  _sfc_render$2,\n  _sfc_staticRenderFns$2,\n  false,\n  null,\n  null\n);\nconst IconMagnify = __component__$2.exports;\nconst useViews = (isAnonymous) => {\n  const allViews = [\n    {\n      id: \"files\",\n      label: t(\"All files\"),\n      icon: mdiFolder\n    },\n    {\n      id: \"recent\",\n      label: t(\"Recent\"),\n      icon: mdiClock\n    },\n    {\n      id: \"favorites\",\n      label: t(\"Favorites\"),\n      icon: mdiStar\n    }\n  ];\n  const availableViews = isAnonymous.value ? allViews.filter(({ id }) => id === \"files\") : allViews;\n  return {\n    allViews,\n    availableViews\n  };\n};\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  __name: \"FilePickerNavigation\",\n  props: {\n    currentView: null,\n    filterString: null,\n    isCollapsed: { type: Boolean },\n    disabledNavigation: { type: Boolean }\n  },\n  emits: [\"update:currentView\", \"update:filterString\"],\n  setup(__props, { emit: emit2 }) {\n    const props = __props;\n    const { availableViews } = useViews(ref(getCurrentUser() === null));\n    const currentViewObject = computed(() => {\n      var _a;\n      return (_a = availableViews.filter((v) => v.id === props.currentView)[0]) != null ? _a : availableViews[0];\n    });\n    const updateFilterValue = (value) => emit2(\"update:filterString\", value);\n    return { __sfc: true, props, emit: emit2, availableViews, currentViewObject, updateFilterValue, IconClose, IconMagnify, NcButton, NcIconSvgWrapper, NcSelect, NcTextField, Fragment, t };\n  }\n});\nvar _sfc_render$1 = function render14() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(_setup.Fragment, [_c(_setup.NcTextField, { staticClass: \"file-picker__filter-input\", attrs: { \"value\": _vm.filterString, \"label\": _setup.t(\"Filter file list\"), \"show-trailing-button\": !!_vm.filterString }, on: { \"update:value\": _setup.updateFilterValue, \"trailing-button-click\": function($event) {\n    return _setup.updateFilterValue(\"\");\n  } }, scopedSlots: _vm._u([{ key: \"trailing-button-icon\", fn: function() {\n    return [_c(_setup.IconClose, { attrs: { \"size\": 16 } })];\n  }, proxy: true }]) }, [_c(_setup.IconMagnify, { attrs: { \"size\": 16 } })], 1), _setup.availableViews.length > 1 && !_vm.disabledNavigation ? [!_vm.isCollapsed ? _c(\"ul\", { staticClass: \"file-picker__side\" }, _vm._l(_setup.availableViews, function(view) {\n    return _c(\"li\", { key: view.id }, [_c(_setup.NcButton, { attrs: { \"type\": _vm.currentView === view.id ? \"primary\" : \"tertiary\", \"wide\": true }, on: { \"click\": function($event) {\n      return _vm.$emit(\"update:currentView\", view.id);\n    } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n      return [_c(_setup.NcIconSvgWrapper, { attrs: { \"path\": view.icon, \"size\": 20 } })];\n    }, proxy: true }], null, true) }, [_vm._v(\" \" + _vm._s(view.label) + \" \")])], 1);\n  }), 0) : _c(_setup.NcSelect, { attrs: { \"aria-label\": _setup.t(\"Current view selector\"), \"clearable\": false, \"searchable\": false, \"options\": _setup.availableViews, \"value\": _setup.currentViewObject }, on: { \"input\": (v) => _setup.emit(\"update:currentView\", v.id) } })] : _vm._e()], 2);\n};\nvar _sfc_staticRenderFns$1 = [];\nvar __component__$1 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$1,\n  _sfc_render$1,\n  _sfc_staticRenderFns$1,\n  false,\n  null,\n  \"b42054b8\"\n);\nconst FilePickerNavigation = __component__$1.exports;\nfunction getRecentNodes(client) {\n  const controller = new AbortController();\n  const lastTwoWeek = Math.round(Date.now() / 1e3) - 60 * 60 * 24 * 14;\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const { data } = await client.search(\"/\", {\n        signal: controller.signal,\n        details: true,\n        data: davGetRecentSearch(lastTwoWeek)\n      });\n      const nodes = data.results.map((result) => davResultToNode(result));\n      resolve(nodes);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nfunction getNodes(client, directoryPath) {\n  const controller = new AbortController();\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const results = await client.getDirectoryContents(join(davRootPath, directoryPath), {\n        signal: controller.signal,\n        details: true,\n        includeSelf: true,\n        data: davGetDefaultPropfind()\n      });\n      const nodes = results.data.map((result) => davResultToNode(result));\n      resolve({\n        contents: nodes.filter(({ path }) => path !== directoryPath),\n        folder: nodes.find(({ path }) => path === directoryPath)\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nasync function getFile(client, path) {\n  const { data } = await client.stat(join(davRootPath, path), {\n    details: true,\n    data: davGetDefaultPropfind()\n  });\n  return davResultToNode(data);\n}\nconst useDAVFiles = function(currentView, currentPath) {\n  const client = davGetClient();\n  const files = shallowRef([]);\n  const folder = shallowRef(null);\n  const isLoading = ref(true);\n  const promise = ref(null);\n  async function createDirectory(name) {\n    const path = join(currentPath.value, name);\n    await client.createDirectory(join(davRootPath, path));\n    const directory = await getFile(client, path);\n    files.value = [...files.value, directory];\n    return directory;\n  }\n  async function loadDAVFiles() {\n    if (promise.value) {\n      promise.value.cancel();\n    }\n    isLoading.value = true;\n    if (currentView.value === \"favorites\") {\n      promise.value = getFavoriteNodes(client, currentPath.value);\n    } else if (currentView.value === \"recent\") {\n      promise.value = getRecentNodes(client);\n    } else {\n      promise.value = getNodes(client, currentPath.value);\n    }\n    const content = await promise.value;\n    if (\"folder\" in content) {\n      folder.value = content.folder;\n      files.value = content.contents;\n    } else {\n      folder.value = null;\n      files.value = content;\n    }\n    promise.value = null;\n    isLoading.value = false;\n  }\n  watch([currentView, currentPath], () => loadDAVFiles());\n  onMounted(() => loadDAVFiles());\n  return {\n    isLoading,\n    files,\n    folder,\n    loadFiles: loadDAVFiles,\n    createDirectory\n  };\n};\nconst useMimeFilter = function(allowedMIMETypes) {\n  const splittedTypes = computed(() => allowedMIMETypes.value.map((filter) => filter.split(\"/\")));\n  const isSupportedMimeType = (mime) => {\n    const mimeTypeArray = mime.split(\"/\");\n    return splittedTypes.value.some(\n      ([type, subtype]) => (\n        // check mime type matches or is wildcard\n        (mimeTypeArray[0] === type || type === \"*\") && (mimeTypeArray[1] === subtype || subtype === \"*\")\n      )\n    );\n  };\n  return {\n    isSupportedMimeType\n  };\n};\nconst __default__ = {\n  name: \"FilePicker\"\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: {\n    buttons: null,\n    name: null,\n    allowPickDirectory: { type: Boolean, default: false },\n    disabledNavigation: { type: Boolean, default: false },\n    container: { default: \"body\" },\n    filterFn: { default: void 0 },\n    mimetypeFilter: { default: () => [] },\n    multiselect: { type: Boolean, default: true },\n    path: { default: void 0 }\n  },\n  emits: [\"close\"],\n  setup(__props, { emit: emit$1 }) {\n    const props = __props;\n    const isOpen = ref(true);\n    const dialogButtons = computed(() => {\n      const nodes = selectedFiles.value.length === 0 && props.allowPickDirectory && currentFolder.value ? [currentFolder.value] : selectedFiles.value;\n      const buttons = typeof props.buttons === \"function\" ? props.buttons(nodes, currentPath.value, currentView.value) : props.buttons;\n      return buttons.map((button) => ({\n        ...button,\n        disabled: button.disabled || isLoading.value,\n        callback: () => {\n          isHandlingCallback = true;\n          handleButtonClick(button.callback, nodes);\n        }\n      }));\n    });\n    let isHandlingCallback = false;\n    const handleButtonClick = async (callback, nodes) => {\n      callback(nodes);\n      emit$1(\"close\", nodes);\n      isHandlingCallback = false;\n    };\n    const currentView = ref(\"files\");\n    const viewHeadline = computed(() => currentView.value === \"favorites\" ? t(\"Favorites\") : currentView.value === \"recent\" ? t(\"Recent\") : \"\");\n    const selectedFiles = shallowRef([]);\n    const savedPath = ref((window == null ? void 0 : window.sessionStorage.getItem(\"NC.FilePicker.LastPath\")) || \"/\");\n    const navigatedPath = ref(\"\");\n    watch([navigatedPath], () => {\n      if (props.path === void 0 && navigatedPath.value) {\n        window.sessionStorage.setItem(\"NC.FilePicker.LastPath\", navigatedPath.value);\n      }\n      selectedFiles.value = [];\n    });\n    const currentPath = computed({\n      get: () => {\n        return currentView.value === \"files\" ? navigatedPath.value || props.path || savedPath.value : \"/\";\n      },\n      set: (path) => {\n        navigatedPath.value = path;\n      }\n    });\n    const filterString = ref(\"\");\n    const { isSupportedMimeType } = useMimeFilter(toRef(props, \"mimetypeFilter\"));\n    const {\n      files,\n      folder: currentFolder,\n      isLoading,\n      loadFiles,\n      createDirectory\n    } = useDAVFiles(currentView, currentPath);\n    onMounted(() => loadFiles());\n    const { showHiddenFiles } = useFilesSettings();\n    const filteredFiles = computed(() => {\n      let filtered = files.value;\n      if (!showHiddenFiles.value) {\n        filtered = filtered.filter((file) => !file.basename.startsWith(\".\"));\n      }\n      if (props.mimetypeFilter.length > 0) {\n        filtered = filtered.filter((file) => file.type === \"folder\" || file.mime && isSupportedMimeType(file.mime));\n      }\n      if (filterString.value) {\n        filtered = filtered.filter((file) => file.basename.toLowerCase().includes(filterString.value.toLowerCase()));\n      }\n      if (props.filterFn) {\n        filtered = filtered.filter((f) => props.filterFn(f));\n      }\n      return filtered;\n    });\n    const noFilesDescription = computed(() => {\n      if (currentView.value === \"files\") {\n        return t(\"Upload some content or sync with your devices!\");\n      } else if (currentView.value === \"recent\") {\n        return t(\"Files and folders you recently modified will show up here.\");\n      } else {\n        return t(\"Files and folders you mark as favorite will show up here.\");\n      }\n    });\n    const onCreateFolder = async (name) => {\n      try {\n        const folder = await createDirectory(name);\n        navigatedPath.value = folder.path;\n        emit(\"files:node:created\", files.value.filter((file) => file.basename === name)[0]);\n      } catch (error) {\n        console.warn(\"Could not create new folder\", { name, error });\n        showError(t(\"Could not create the new folder\"));\n      }\n    };\n    const handleClose = (open) => {\n      if (!open && !isHandlingCallback) {\n        emit$1(\"close\");\n      }\n    };\n    return { __sfc: true, props, emit: emit$1, isOpen, dialogButtons, isHandlingCallback, handleButtonClick, currentView, viewHeadline, selectedFiles, savedPath, navigatedPath, currentPath, filterString, isSupportedMimeType, files, currentFolder, isLoading, loadFiles, createDirectory, showHiddenFiles, filteredFiles, noFilesDescription, onCreateFolder, handleClose, IconFile, FileList, FilePickerBreadcrumbs, FilePickerNavigation, NcDialog, NcEmptyContent, t };\n  }\n});\nvar _sfc_render = function render15() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(_setup.NcDialog, { attrs: { \"container\": _vm.container, \"buttons\": _setup.dialogButtons, \"name\": _vm.name, \"size\": \"large\", \"content-classes\": \"file-picker__content\", \"dialog-classes\": \"file-picker\", \"navigation-classes\": \"file-picker__navigation\", \"open\": _setup.isOpen }, on: { \"update:open\": [function($event) {\n    _setup.isOpen = $event;\n  }, _setup.handleClose] }, scopedSlots: _vm._u([{ key: \"navigation\", fn: function({ isCollapsed }) {\n    return [_c(_setup.FilePickerNavigation, { attrs: { \"is-collapsed\": isCollapsed, \"current-view\": _setup.currentView, \"filter-string\": _setup.filterString, \"disabled-navigation\": _vm.disabledNavigation }, on: { \"update:currentView\": function($event) {\n      _setup.currentView = $event;\n    }, \"update:current-view\": function($event) {\n      _setup.currentView = $event;\n    }, \"update:filterString\": function($event) {\n      _setup.filterString = $event;\n    }, \"update:filter-string\": function($event) {\n      _setup.filterString = $event;\n    } } })];\n  } }]) }, [_c(\"div\", { staticClass: \"file-picker__main\" }, [_setup.currentView === \"files\" ? _c(_setup.FilePickerBreadcrumbs, { attrs: { \"path\": _setup.currentPath, \"show-menu\": _vm.allowPickDirectory }, on: { \"update:path\": function($event) {\n    _setup.currentPath = $event;\n  }, \"create-node\": _setup.onCreateFolder } }) : _c(\"div\", { staticClass: \"file-picker__view\" }, [_c(\"h3\", [_vm._v(_vm._s(_setup.viewHeadline))])]), _setup.isLoading || _setup.filteredFiles.length > 0 ? _c(_setup.FileList, { attrs: { \"allow-pick-directory\": _vm.allowPickDirectory, \"current-view\": _setup.currentView, \"files\": _setup.filteredFiles, \"multiselect\": _vm.multiselect, \"loading\": _setup.isLoading, \"path\": _setup.currentPath, \"selected-files\": _setup.selectedFiles, \"name\": _setup.viewHeadline }, on: { \"update:path\": [function($event) {\n    _setup.currentPath = $event;\n  }, function($event) {\n    _setup.currentView = \"files\";\n  }], \"update:selectedFiles\": function($event) {\n    _setup.selectedFiles = $event;\n  }, \"update:selected-files\": function($event) {\n    _setup.selectedFiles = $event;\n  } } }) : _setup.filterString ? _c(_setup.NcEmptyContent, { attrs: { \"name\": _setup.t(\"No matching files\"), \"description\": _setup.t(\"No files matching your filter were found.\") }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n    return [_c(_setup.IconFile)];\n  }, proxy: true }]) }) : _c(_setup.NcEmptyContent, { attrs: { \"name\": _setup.t(\"No files in here\"), \"description\": _setup.noFilesDescription }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n    return [_c(_setup.IconFile)];\n  }, proxy: true }]) })], 1)]);\n};\nvar _sfc_staticRenderFns = [];\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  _sfc_main,\n  _sfc_render,\n  _sfc_staticRenderFns,\n  false,\n  null,\n  \"20b719ba\"\n);\nconst FilePicker = __component__.exports;\nexport {\n  FilePicker as default\n};\n"],"names":["_sfc_main$e","name","emits","props","title","type","String","fillColor","default","size","Number","_sfc_render$e","_vm","this","_c","_self","_b","staticClass","attrs","on","$event","$emit","$attrs","_v","_s","_e","_sfc_staticRenderFns$e","IconFile","exports","useFilesSettings","_a","filesUserState","showHiddenFiles","show_hidden","sortFavoritesFirst","sort_favorites_first","cropImagePreviews","crop_image_previews","async","_a2","_b2","_c2","_d","_f","console","debug","data","get","value","error","t","_sfc_main$d","_sfc_render$d","_sfc_staticRenderFns$d","IconSortAscending","_sfc_main$c","_sfc_render$c","_sfc_staticRenderFns$c","IconSortDescending","fileListIconStylesModule","_sfc_main$b","__name","showCheckbox","Boolean","setup","__props","__sfc","fileListIconStyles","_sfc_render$b","_setup","_setupProxy","class","_m","_sfc_staticRenderFns$b","LoadingTableRow","queue","concurrency","usePreviewURL","node","options","previewURL","previewLoaded","cropPreview","mimeFallback","previewUrl","attributes","fileid","url","URL","e","window","location","origin","searchParams","set","concat","etag","getPreviewURL","resolve","promise","Promise","withResolvers","add","image","Image","onerror","onload","src","preloadImage","href","then","success","_sfc_main$a","_sfc_render$a","_sfc_staticRenderFns$a","IconFolder","_sfc_main$9","isFile","File","_sfc_render$9","style","backgroundImage","_sfc_staticRenderFns$9","FilePreview","_sfc_main$8","allowPickDirectory","selected","canPick","emit","emit2","displayName","basename","slice","extension","length","fileExtension","isDirectory","Folder","isPickable","toggleSelected","handleClick","handleKeyDown","event","key","formatFileSize","_sfc_render$8","_g","click","keydown","stopPropagation","apply","arguments","NcCheckboxRadioSwitch","nodename","domProps","NcDateTime","mtime","_sfc_staticRenderFns$8","FileListRow","_sfc_main$7","currentView","multiselect","loading","files","selectedFiles","path","customSortingConfig","currentConfig","filesAppSorting","_h","_i","_j","_k","_l","convertOrder","order2","filesViewsState","filesViewConfig","sortBy","sorting_mode","order","sorting_direction","recentViewConfig","recent","favoritesViewConfig","favorites","_d2","_e2","_f2","_g2","_h2","_i2","_j2","_k2","_l2","_n","_o","useFilesViews","sortingConfig","sortByName","sortBySize","sortByModified","sortedFiles","sortFoldersFirst","sortingOrder","sortingMode","selectableFiles","filter","file","allSelected","skeletonNumber","fileContainer","resize","nodes","parentElement","children","height","clientHeight","index","isSameNode","Math","max","floor","addEventListener","removeEventListener","toggleSorting","onSelectAll","onNodeSelected","includes","f","onChangeDirectory","dir","NcButton","_sfc_render$7","ref","scopedSlots","_u","fn","staticStyle","proxy","_sfc_staticRenderFns$7","FileList","_sfc_main$6","_sfc_render$6","_sfc_staticRenderFns$6","IconHome","_sfc_main$5","_sfc_render$5","_sfc_staticRenderFns$5","IconPlus","_sfc_main$4","showMenu","actionsOpen","newNodeName","nameInput","validateInput","trim","input","$el","querySelector","validity","OC","config","blacklist_files_regex","match","setCustomValidity","pathElements","split","v","map","i","elements","join","onSubmit","NcActions","_sfc_render$4","NcBreadcrumbs","NcBreadcrumb","NcActionInput","_sfc_staticRenderFns$4","FilePickerBreadcrumbs","_sfc_main$3","_sfc_render$3","_sfc_staticRenderFns$3","IconClose","_sfc_main$2","_sfc_render$2","_sfc_staticRenderFns$2","IconMagnify","_sfc_main$1","filterString","isCollapsed","disabledNavigation","availableViews","isAnonymous","allViews","id","label","icon","useViews","currentViewObject","updateFilterValue","_sfc_render$1","Fragment","NcTextField","NcSelect","view","NcIconSvgWrapper","_sfc_staticRenderFns$1","FilePickerNavigation","useDAVFiles","currentPath","client","folder","isLoading","loadDAVFiles","cancel","controller","AbortController","lastTwoWeek","round","Date","now","CancelablePromise","reject","onCancel","abort","search","signal","details","results","result","getRecentNodes","directoryPath","getDirectoryContents","includeSelf","contents","find","getNodes","content","loadFiles","createDirectory","directory","stat","getFile","_sfc_main","buttons","container","filterFn","mimetypeFilter","emit$1","isOpen","dialogButtons","currentFolder","button","disabled","callback","isHandlingCallback","handleButtonClick","viewHeadline","savedPath","sessionStorage","getItem","navigatedPath","setItem","isSupportedMimeType","allowedMIMETypes","splittedTypes","mime","mimeTypeArray","some","subtype","useMimeFilter","filteredFiles","filtered","startsWith","toLowerCase","noFilesDescription","onCreateFolder","warn","handleClose","open","NcDialog","_sfc_render","NcEmptyContent","_sfc_staticRenderFns","FilePicker"],"sourceRoot":""}